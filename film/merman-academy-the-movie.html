<!DOCTYPE html>
<html>
  <head>
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta charset="utf-8">
     <meta name="author" content="CrownCinema">
    <title>Merman Academy: The Movie (2020) - Crowncinema</title>
    <link rel="stylesheet" href="../assets/styles.css">
  </head>
  <body>
     <div class="head">
      <header>
         <h1>Merman Academy: The Movie<h1>
    </header>
      <nav class="head_nav">
        <a href="films"><img src="../assets/img/ccfilm.svg" height="100" width="100" class="ccfilm"></a>
       </nav>
    </div>
        <img src="../assets/img/merman academy the movie.jpg" id="matmlogo" height="450" width="450">
   <script src="../assets/scripts/script.js"></script>

   <script>
     var rgb = getAverageRGB(document.getElementById('matmlogo'));
     document.body.style.backgroundImage = "none";
     document.body.style.backgroundColor = 'rgb('+rgb.r+','+rgb.g+','+rgb.b+')';

     function getAverageRGB(imgEl) {

     var blockSize = 9, // only visit every 5 pixels
         defaultRGB = {r:0,g:0,b:0}, // for non-supporting envs
         canvas = document.createElement('canvas'),
         context = canvas.getContext && canvas.getContext('2d'),
         data, width, height,
         i = -8,
         length,
         rgb = {r:0,g:0,b:0},
         count = 0;

     if (!context) {
         return defaultRGB;
     }

     height = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;
     width = canvas.width = imgEl.naturalWidth || imgEl.offsetWidth || imgEl.width;

     context.drawImage(imgEl, 0, 0);

     try {
         data = context.getImageData(0, 0, width, height);
     } catch(e) {
         /* security error, img on diff domain */alert('x');
         return defaultRGB;
     }

     length = data.data.length;

     while ( (i += blockSize * 4) < length ) {
         ++count;
         rgb.r += data.data[i];
         rgb.g += data.data[i+1];
         rgb.b += data.data[i+2];
     }

     // ~~ used to floor values
     rgb.r = ~~(rgb.r/count);
     rgb.g = ~~(rgb.g/count);
     rgb.b = ~~(rgb.b/count);

     return rgb;

     }

  </script>
  </body>
</html>
